@model Cynfo1._0.ViewModels.AdsViewModel

@{
    ViewBag.Title = "Anuncios";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Anuncios</h2>
<br />
<a href="@Url.Action("Create","Advertisements")" class="btn btn-primary">Nuevo</a>
<hr />
@if (!Model.Advertisements.Any())
{
    <p>Aun no se ha publicado ningun anuncio</p>

}
else
{
    <div class="w3-row-padding">

        @foreach (var advertisement in Model.Advertisements.Reverse())
        {
            <div class="w3-third w3-padding-12">
                <div class="w3-card-4" style="width: 92%; max-width: 350px;">
                    <div></div>
                    <img src="@advertisement.MediaURL" style="width: 100%;"/>
                    <div class="w3-container">
                        <h4><b>@advertisement.Title</b></h4>
                        <p>@advertisement.Description</p>
                        <h4><b>Area</b></h4>

                        @{
                            var beaconArea = Model.Beacons.SingleOrDefault(b => b.Id == advertisement.BeaconId);
                        }
                        @if (beaconArea != null)
                        {
                            <p> @beaconArea.AreaName</p>
                        }
                        else
                        {
                            <p>No se ha especificado ningun area</p>
                        }
                        <div class="w3-btn-group" style="width: 100%">

                            <a href="@Url.Action("Delete", "Advertisements", new {id = advertisement.Id})" class="w3-btn-block w3-btn w3-light-grey" style="width: 50%">Borrar</a>
                            <a href="@Url.Action("Edit", "Advertisements", new {id = advertisement.Id})" class="w3-btn-block w3-btn w3-light-blue" style="width: 50%">Editar</a>
                        </div>





                    </div>

                </div>
            </div>

                            }

    </div>
                            }
<br />




